{"is_source_file": true, "format": "JavaScript", "description": "This file contains client-side functions for interacting with a backend API providing recipe data. It includes functions for fetching recipe lists, individual recipes, normalizing payloads, handling fallbacks with mock data, and managing request timeouts.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["listRecipes", "getRecipeById"], "classes": [], "methods": [{"name": "getApiBase()", "description": "Builds a safe absolute URL to the backend, considering environment variables or defaulting to localhost.", "scope": "", "scopeKind": ""}, {"name": "fetchWithTimeout(url, options = {})", "description": "Performs fetch with a specified timeout using AbortController.", "scope": "", "scopeKind": ""}, {"name": "tryGetJson(paths, { query = {}, signal } = {})", "description": "Attempts multiple endpoint paths until a successful JSON response is received.", "scope": "", "scopeKind": ""}, {"name": "normalizeRecipeListPayload(payload)", "description": "Normalizes varied payload shapes into an array of recipes.", "scope": "", "scopeKind": ""}, {"name": "normalizeRecipeDetailPayload(payload)", "description": "Normalizes different structures for detailed recipe payloads into a consistent object.", "scope": "", "scopeKind": ""}, {"name": "normalizeRecipe(recipe)", "description": "Transforms a recipe object into a consistent internal format, normalizing fields like ingredients, steps, and images.", "scope": "", "scopeKind": ""}, {"name": "listRecipes({ q, tag } = {}, { signal } = {})", "description": "Fetches a list of recipes from the backend or falls back to mock data; supports search and tag filtering.", "scope": "", "scopeKind": ""}, {"name": "getRecipeById(id, { signal } = {})", "description": "Fetches a recipe by ID from the backend or returns fallback mock data if not available.", "scope": "", "scopeKind": ""}, {"name": "filterMock(recipes, { q, tag })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "fetchWithTimeout", "tryGetJson", "normalizeRecipeListPayload", "normalizeRecipeDetailPayload", "normalizeRecipe"], "search-terms": ["client API", "fetch recipes", "normalize payload", "fallback mock data", "recipe fetching", "API base URL"], "state": 2, "file_id": 13, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^const DEFAULT_TIMEOUT_MS = 15000;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MOCK_RECIPES", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^const MOCK_RECIPES = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchWithTimeout", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^async function fetchWithTimeout(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "filterMock", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^function filterMock(recipes, { q, tag }) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipes, { q, tag })"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecipeById", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^export async function getRecipeById(id, { signal } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, { signal } = {})"}, {"_type": "tag", "name": "listRecipes", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^export async function listRecipes({ q, tag } = {}, { signal } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ q, tag } = {}, { signal } = {})"}, {"_type": "tag", "name": "normalizeRecipe", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^function normalizeRecipe(recipe) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipe)"}, {"_type": "tag", "name": "normalizeRecipeDetailPayload", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^function normalizeRecipeDetailPayload(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "normalizeRecipeListPayload", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^function normalizeRecipeListPayload(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "tryGetJson", "path": "/home/kavia/workspace/code-generation/culinary-explorer-203694-203705/food_recipe_frontend/src/api/client.js", "pattern": "/^async function tryGetJson(paths, { query = {}, signal } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(paths, { query = {}, signal } = {})"}], "hash": "f8ba8a2a6d38bcc72dd3b04e45f2dd13", "format-version": 4, "code-base-name": "food_recipe_frontend", "filename": "food_recipe_frontend/src/api/client.js", "revision_history": [{"29": ""}]}